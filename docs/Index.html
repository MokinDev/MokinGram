<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mokingram - Clone</title>
    <!-- Tailwind CSS First -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Alpine.js Core -->
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        [x-cloak] { display: none !important; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .reel-snap { scroll-snap-type: y mandatory; }
        .reel-item { scroll-snap-align: start; }
        
        html, body { 
            margin: 0; 
            padding: 0; 
            height: 100%; 
            width: 100%;
            overflow: hidden;
        }
        
        body { background-color: #f9fafb; transition: background-color 0.3s; }
        .dark body { background-color: #121212; }

        .logo-gradient {
            fill: url(#instaGradient);
        }
    </style>
</head>
<body x-data="instaApp()" :class="isDarkMode ? 'dark' : ''">

    <!-- Main App Container -->
    <div class="flex justify-center h-full w-full transition-colors duration-300" 
         :class="isDarkMode ? 'bg-[#121212]' : 'bg-gray-50'">
        
        <div class="w-full max-w-md h-full relative shadow-2xl overflow-y-auto no-scrollbar border-x transition-colors duration-300 flex flex-col"
             :class="isDarkMode ? 'bg-black text-white border-zinc-800' : 'bg-white text-black border-gray-100'"
             x-cloak>

            <!-- AUTH SCREEN -->
            <template x-if="!isLoggedIn">
                <div class="flex flex-col items-center justify-center h-full px-8 space-y-6">
                    <div class="flex flex-col items-center space-y-2">
                        <svg width="60" height="60" viewBox="0 0 100 100" class="drop-shadow-sm mb-2">
                            <defs>
                                <linearGradient id="instaGradient" x1="0%" y1="100%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#f9ce34;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#ee2a7b;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#6228d7;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <path class="logo-gradient" d="M15 85V15H35L50 45L65 15H85V85H70V35L50 75L30 35V85H15Z" />
                        </svg>
                        <h1 class="text-4xl font-bold italic tracking-tighter">Mokingram</h1>
                    </div>

                    <div class="w-full space-y-3">
                        <input type="text" x-model="authForm.email" placeholder="Email or username" 
                               class="w-full p-3 rounded-lg border text-sm focus:ring-1 focus:ring-blue-500 outline-none"
                               :class="isDarkMode ? 'bg-zinc-900 border-zinc-800' : 'bg-gray-50 border-gray-200'">
                        
                        <template x-if="authMode === 'signup'">
                            <input type="text" x-model="authForm.fullname" placeholder="Full Name" 
                                   class="w-full p-3 rounded-lg border text-sm focus:ring-1 focus:ring-blue-500 outline-none"
                                   :class="isDarkMode ? 'bg-zinc-900 border-zinc-800' : 'bg-gray-50 border-gray-200'">
                        </template>

                        <input type="password" x-model="authForm.password" placeholder="Password" 
                               class="w-full p-3 rounded-lg border text-sm focus:ring-1 focus:ring-blue-500 outline-none"
                               :class="isDarkMode ? 'bg-zinc-900 border-zinc-800' : 'bg-gray-50 border-gray-200'">
                        
                        <button @click="handleAuth()" 
                                class="w-full py-2.5 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition-colors"
                                x-text="authMode === 'signin' ? 'Log In' : 'Sign Up'">
                        </button>
                    </div>

                    <div class="flex items-center space-x-2 w-full">
                        <div class="flex-1 border-t opacity-20"></div>
                        <span class="text-[10px] uppercase font-bold opacity-50">OR</span>
                        <div class="flex-1 border-t opacity-20"></div>
                    </div>

                    <p class="text-sm">
                        <span x-text="authMode === 'signin' ? 'Don\'t have an account?' : 'Already have an account?'"></span>
                        <button @click="authMode = (authMode === 'signin' ? 'signup' : 'signin')" 
                                class="text-blue-500 font-bold ml-1"
                                x-text="authMode === 'signin' ? 'Sign up' : 'Log in'">
                        </button>
                    </p>
                </div>
            </template>

            <!-- MAIN APP (Only visible if logged in) -->
            <template x-if="isLoggedIn">
                <div class="flex flex-col h-full overflow-hidden">
                    <!-- Views Container -->
                    <div class="flex-1 overflow-y-auto no-scrollbar pb-16">
                        
                        <!-- HOME VIEW -->
                        <div x-show="activeTab === 'home'">
                            <header class="sticky top-0 z-40 px-4 py-3 flex justify-between items-center border-b transition-colors"
                                    :class="isDarkMode ? 'bg-black border-zinc-800' : 'bg-white border-gray-200'">
                                <div class="flex items-center space-x-2">
                                    <svg width="28" height="28" viewBox="0 0 100 100" class="drop-shadow-sm">
                                        <path class="logo-gradient" d="M15 85V15H35L50 45L65 15H85V85H70V35L50 75L30 35V85H15Z" />
                                    </svg>
                                    <h1 class="text-2xl font-bold italic tracking-tighter">Mokingram</h1>
                                </div>
                                <div class="flex space-x-5 items-center">
                                    <button @click="isDarkMode = !isDarkMode" class="focus:outline-none">
                                        <i class="fa-solid" :class="isDarkMode ? 'fa-sun text-yellow-400' : 'fa-moon text-gray-600'"></i>
                                    </button>
                                    <i class="fa-regular fa-heart text-xl cursor-pointer"></i>
                                    <i class="fa-regular fa-comment-dots text-xl cursor-pointer"></i>
                                </div>
                            </header>

                            <!-- Stories -->
                            <div class="flex overflow-x-auto p-4 space-x-4 no-scrollbar border-b" :class="isDarkMode ? 'border-zinc-900' : 'border-gray-50'">
                                <template x-for="i in 6" :key="i">
                                    <div class="flex flex-col items-center space-y-1 flex-shrink-0">
                                        <div class="p-0.5 rounded-full bg-gradient-to-tr from-[#f9ce34] via-[#ee2a7b] to-[#6228d7]">
                                            <div class="p-0.5 rounded-full" :class="isDarkMode ? 'bg-black' : 'bg-white'">
                                                <img :src="`https://i.pravatar.cc/150?u=mock${i}`" class="w-14 h-14 rounded-full bg-gray-200 object-cover" alt="story">
                                            </div>
                                        </div>
                                        <span class="text-[10px]" x-text="`user_${i}`"></span>
                                    </div>
                                </template>
                            </div>

                            <!-- Feed -->
                            <template x-for="post in posts" :key="post.id">
                                <div class="mb-4">
                                    <div class="flex items-center p-3 space-x-3">
                                        <img :src="post.userImage" class="w-8 h-8 rounded-full" alt="avatar">
                                        <span class="text-sm font-bold" x-text="post.username"></span>
                                    </div>
                                    <img :src="post.image" class="w-full aspect-square object-cover" @dblclick="likePost(post)" alt="post content">
                                    <div class="p-3">
                                        <div class="flex space-x-4 mb-2">
                                            <i class="fa-heart text-2xl cursor-pointer transition-colors" :class="post.liked ? 'fa-solid text-red-500' : 'fa-regular'" @click="likePost(post)"></i>
                                            <i class="fa-regular fa-comment text-2xl cursor-pointer"></i>
                                            <i class="fa-regular fa-paper-plane text-2xl cursor-pointer"></i>
                                            <div class="flex-1"></div>
                                            <i class="fa-regular fa-bookmark text-2xl cursor-pointer"></i>
                                        </div>
                                        <p class="text-sm font-bold" x-text="`${post.likes.toLocaleString()} likes`"></p>
                                        <p class="text-sm"><span class="font-bold mr-1" x-text="post.username"></span> <span x-text="post.caption"></span></p>
                                    </div>
                                </div>
                            </template>
                        </div>

                        <!-- REELS VIEW -->
                        <div x-show="activeTab === 'reels'" class="h-full w-full overflow-y-scroll reel-snap no-scrollbar bg-black text-white">
                            <template x-for="reel in reels" :key="reel.id">
                                <div class="relative h-full w-full reel-item flex-shrink-0">
                                    <video class="h-full w-full object-cover" :src="reel.videoUrl" autoplay loop muted playsinline></video>
                                    <div class="absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/60 pointer-events-none"></div>
                                    <div class="absolute right-4 bottom-24 flex flex-col space-y-6 items-center">
                                        <div class="flex flex-col items-center">
                                            <i class="fa-solid fa-heart text-3xl mb-1 cursor-pointer" :class="reel.liked ? 'text-red-500' : 'text-white'" @click="reel.liked = !reel.liked"></i>
                                            <span class="text-[10px] font-bold" x-text="reel.likes"></span>
                                        </div>
                                        <i class="fa-solid fa-comment text-3xl cursor-pointer"></i>
                                        <i class="fa-solid fa-paper-plane text-3xl cursor-pointer"></i>
                                        <i class="fa-solid fa-ellipsis text-2xl cursor-pointer"></i>
                                    </div>
                                    <div class="absolute left-4 bottom-24 right-16 space-y-3">
                                        <div class="flex items-center space-x-2">
                                            <img :src="reel.userImage" class="w-8 h-8 rounded-full border border-white/20" alt="avatar">
                                            <span class="font-bold text-sm" x-text="reel.username"></span>
                                            <button class="border border-white/50 px-2 py-0.5 rounded-md text-[10px] font-bold">Follow</button>
                                        </div>
                                        <p class="text-sm" x-text="reel.caption"></p>
                                    </div>
                                </div>
                            </template>
                        </div>

                        <!-- PROFILE VIEW -->
                        <div x-show="activeTab === 'profile'">
                            <header class="p-4 flex justify-between items-center sticky top-0 z-40 transition-colors" :class="isDarkMode ? 'bg-black' : 'bg-white'">
                                <span class="font-bold text-lg" x-text="authForm.email || 'traveler_99'"></span>
                                <div class="flex space-x-4">
                                    <i class="fa-regular fa-square-plus text-2xl cursor-pointer"></i>
                                    <i class="fa-solid fa-bars text-2xl cursor-pointer" @click="showFeedback = true"></i>
                                </div>
                            </header>

                            <div class="px-4 pt-2">
                                <div class="flex items-center mb-6">
                                    <div class="relative">
                                        <img src="https://i.pravatar.cc/150?u=traveler" class="w-20 h-20 rounded-full p-1 border" :class="isDarkMode ? 'border-zinc-800' : 'border-gray-200'" alt="profile">
                                        <div class="absolute bottom-0 right-0 bg-blue-500 text-white rounded-full p-1 border-2 border-white"><i class="fa-solid fa-plus text-[10px]"></i></div>
                                    </div>
                                    <div class="flex-1 flex justify-around pl-4">
                                        <div class="text-center">
                                            <p class="font-bold text-lg">12</p>
                                            <p class="text-[10px] text-gray-500">Posts</p>
                                        </div>
                                        <div class="text-center">
                                            <p class="font-bold text-lg">2.4k</p>
                                            <p class="text-[10px] text-gray-500">Followers</p>
                                        </div>
                                        <div class="text-center">
                                            <p class="font-bold text-lg">450</p>
                                            <p class="text-[10px] text-gray-500">Following</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-4 text-sm">
                                    <p class="font-bold" x-text="authForm.fullname || 'Jane Doe'"></p>
                                    <p class="text-gray-500">Digital Creator</p>
                                    <p>Adventure & Photography üì∏</p>
                                </div>

                                <div class="flex space-x-2 mb-6">
                                    <button class="flex-1 font-bold py-1.5 rounded-lg text-sm" :class="isDarkMode ? 'bg-zinc-800' : 'bg-gray-100'">Edit profile</button>
                                    <button @click="logout()" class="flex-1 font-bold py-1.5 rounded-lg text-sm text-red-500" :class="isDarkMode ? 'bg-zinc-800' : 'bg-gray-100'">Logout</button>
                                </div>
                            </div>

                            <div class="grid grid-cols-3 gap-0.5 px-0.5">
                                <template x-for="i in 12" :key="i">
                                    <div class="aspect-square bg-zinc-200">
                                        <img :src="`https://picsum.photos/seed/mokingram${i}/400/400`" class="w-full h-full object-cover" alt="grid post">
                                    </div>
                                </template>
                            </div>
                        </div>

                    </div>

                    <!-- NAVIGATION BAR -->
                    <nav class="absolute bottom-0 w-full border-t px-6 py-3 flex justify-between items-center z-50 transition-all duration-300"
                         :class="activeTab === 'reels' ? 'bg-black text-white border-white/10' : (isDarkMode ? 'bg-black border-zinc-800 text-white' : 'bg-white border-gray-200 text-black')">
                        <i class="fa-solid fa-house text-2xl cursor-pointer" :class="activeTab === 'home' ? 'opacity-100' : 'opacity-40'" @click="activeTab = 'home'"></i>
                        <i class="fa-solid fa-magnifying-glass text-2xl opacity-40"></i>
                        <i class="fa-solid fa-play text-2xl cursor-pointer" :class="activeTab === 'reels' ? 'opacity-100' : 'opacity-40'" @click="activeTab = 'reels'"></i>
                        <i class="fa-regular fa-heart text-2xl opacity-40"></i>
                        <i class="fa-solid fa-circle-user text-2xl cursor-pointer" :class="activeTab === 'profile' ? 'opacity-100' : 'opacity-40'" @click="activeTab = 'profile'"></i>
                    </nav>
                </div>
            </template>

            <!-- FEEDBACK OVERLAY -->
            <div x-show="showFeedback" x-cloak x-transition.opacity class="fixed inset-0 z-[70] flex items-center justify-center p-6">
                <div class="absolute inset-0 bg-black/60" @click="showFeedback = false"></div>
                <div class="relative w-full rounded-2xl p-6 transition-all" :class="isDarkMode ? 'bg-zinc-900 text-white border border-zinc-700' : 'bg-white text-black shadow-xl'">
                    <h3 class="text-xl font-bold mb-2 text-center">Help us improve</h3>
                    <div class="space-y-4 pt-4">
                        <a href="https://forms.gle/aS33wCTY28j2GipX6" target="_blank"
                           class="flex items-center justify-between w-full p-4 rounded-xl border transition-all hover:bg-opacity-80"
                           :class="isDarkMode ? 'bg-zinc-800 border-zinc-700' : 'bg-blue-50 border-blue-100'">
                            <div class="flex items-center space-x-3 text-left">
                                <div class="bg-blue-500 p-2 rounded-lg text-white"><i class="fa-solid fa-file-lines"></i></div>
                                <div>
                                    <p class="font-bold text-sm">Open Feedback Form</p>
                                    <p class="text-[10px] opacity-70">Google Forms</p>
                                </div>
                            </div>
                            <i class="fa-solid fa-arrow-up-right-from-square text-xs opacity-40"></i>
                        </a>
                        <div class="flex space-x-3">
                            <button class="flex-1 py-2.5 font-bold rounded-lg text-sm" :class="isDarkMode ? 'bg-zinc-800' : 'bg-gray-100'" @click="showFeedback = false">Close</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        function instaApp() {
            return {
                isDarkMode: false,
                isLoggedIn: false,
                authMode: 'signin',
                authForm: {
                    email: '',
                    fullname: '',
                    password: ''
                },
                activeTab: 'home',
                showFeedback: false,
                posts: [
                    { id: 1, username: 'traveler_99', userImage: 'https://i.pravatar.cc/150?u=user1', image: 'https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?w=600', likes: 1240, liked: false, caption: 'Mountain vibes only! üèîÔ∏è' },
                    { id: 2, username: 'foodie_vibes', userImage: 'https://i.pravatar.cc/150?u=user2', image: 'https://images.unsplash.com/photo-1567620905732-2d1ec7bb7445?w=600', likes: 850, liked: false, caption: 'Best pancakes! ü•û' },
                    { id: 3, username: 'sky_high', userImage: 'https://i.pravatar.cc/150?u=user3', image: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=600', likes: 2100, liked: false, caption: 'Breathtaking views.' }
                ],
                reels: [
                    { id: 1, username: 'nature_seeker', userImage: 'https://i.pravatar.cc/150?u=user5', videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-tree-with-yellow-leaves-low-angle-shot-4737-large.mp4', likes: '1.2M', liked: false, caption: 'Yellow leaves üçÇ' },
                    { id: 2, username: 'chef_pro', userImage: 'https://i.pravatar.cc/150?u=user6', videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-pouring-hot-coffee-into-a-cup-32863-large.mp4', likes: '850K', liked: false, caption: 'Coffee time ‚òï' }
                ],
                handleAuth() {
                    if (this.authForm.email && this.authForm.password) {
                        this.isLoggedIn = true;
                        this.activeTab = 'home';
                    }
                },
                logout() {
                    this.isLoggedIn = false;
                    this.authForm.password = ''; // Clear password for security
                },
                likePost(post) {
                    post.liked = !post.liked;
                    post.liked ? post.likes++ : post.likes--;
                }
            }
        }
    </script>
</body>
</html>


